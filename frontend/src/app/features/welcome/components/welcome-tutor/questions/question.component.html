<div class="container">
  <!-- Kopfbereich mit Titel und Navigation -->
  <div class="header">
    <div class="title-section">
      <h1>SQLearner</h1>
      <p>Fragen der Studierenden</p>
    </div>
    <div class="nav-links">
      <!-- Navigation zu beantworteten, archivierten und gelÃ¶schten Fragen -->
      <a routerLink="/welcome/tutor/beantwortet">Beantwortet</a>
      <a routerLink="/welcome/tutor/archiv">Archiv</a>
      <a routerLink="/welcome/tutor/papierkorb">Papierkorb</a>
    </div>
  </div>

  <!-- Hauptbereich mit Fragenliste und markierten Fragen -->
  <div class="main-content">
    <!-- Linke Spalte: unbeantwortete Fragen -->
    <div class="fragen-container">
      <p class="unread">
        <ng-container *ngIf="ungeleseneNachrichten === 0">
          Sie haben <strong>keine</strong> unbeantwortete Frage
        </ng-container>
        <ng-container *ngIf="ungeleseneNachrichten === 1">
          Sie haben <strong>eine</strong> unbeantwortete Frage
        </ng-container>
        <ng-container *ngIf="ungeleseneNachrichten > 1">
          Sie haben <strong>{{ ungeleseneNachrichten }}</strong> unbeantwortete Fragen
        </ng-container>
      </p>

      <!-- Jede Frage mit Aktionen -->
      <div class="frage-box" *ngFor="let question of questions">
        <p class="frage-text">
          <mat-icon class="icon">mail</mat-icon>
          {{ question.student_name }} ({{ question.erstellt_am | date:'dd.MM.yyyy HH:mm' }}): â€ž{{ question.frage }}â€œ
        </p>
        <div class="aktionen">
          <a href="#" (click)="anpinnen(question, $event)">Markieren</a>
          <a href="#" (click)="archivieren(question, $event)">Archivieren</a>
          <a href="#" (click)="beantworten(question, $event)">Beantworten</a>
          <a href="#" (click)="loeschen(question, $event)">LÃ¶schen</a>
        </div>
      </div>
    </div>

    <!-- Rechte Spalte: markierte Fragen -->
    <div class="angepinnt-box">
      <h3>Markiert</h3>
      <div *ngIf="angepinnt.length === 0" class="leertext">Keine markierten Nachrichten</div>
      <div *ngFor="let question of angepinnt" class="angeheftet-frage">
        <p>{{ question.student_name }} ({{ question.erstellt_am | date:'dd.MM.yyyy HH:mm' }}): â€ž{{ question.frage }}â€œ</p>
        <a href="#" (click)="entferneAngepinnt(question, $event)">Entfernen</a>
      </div>
    </div>
  </div>

  <!-- Modal zur Beantwortung einer Frage -->
  <div class="antwort-modal" *ngIf="ausgewaehlteQuestion">
    <div class="antwort-box">
      <h2>Antwort auf: {{ ausgewaehlteQuestion.student_name }}</h2>
      <textarea [(ngModel)]="antwortText" placeholder="Antwort schreiben..."></textarea>

      <input type="file" (change)="anhangHinzufuegen($event)" />
      <div class="anhang-info" *ngIf="anhangName">ðŸ“Ž Datei angehÃ¤ngt: {{ anhangName }}</div>

      <div class="antwort-aktionen">
        <button (click)="antwortAbschicken()">Antwort senden</button>
        <button class="abbrechen" (click)="antwortAbbrechen()">Abbrechen</button>
      </div>
    </div>
  </div>
</div>
