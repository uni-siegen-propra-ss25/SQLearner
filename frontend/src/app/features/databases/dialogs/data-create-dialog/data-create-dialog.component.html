<h2 mat-dialog-title>Neuen Datensatz erstellen</h2>
<form [formGroup]="dataForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content>
    <div class="data-form-container">
      <ng-container *ngFor="let column of data.table.columns">
        <mat-form-field class="full-width">
          <mat-label>{{ column.name }}</mat-label>
          
          <!-- Input for numbers -->
          <input *ngIf="column.type === SqlDataType.INT || column.type === SqlDataType.DECIMAL || column.type === SqlDataType.FLOAT"
                 matInput
                 [formControlName]="column.name"
                 type="number"
                 [step]="column.type === SqlDataType.DECIMAL || column.type === SqlDataType.FLOAT ? '0.01' : '1'"
                 [required]="!column.nullable">

          <!-- Input for text/varchar -->
          <input *ngIf="column.type === SqlDataType.VARCHAR || column.type === SqlDataType.TEXT"
                 matInput
                 [formControlName]="column.name"
                 type="text"
                 [required]="!column.nullable"
                 maxlength="255">

          <!-- Input for boolean -->
          <mat-select *ngIf="column.type === SqlDataType.BOOLEAN"
                     [formControlName]="column.name"
                     [required]="!column.nullable">
            <mat-option [value]="true">Ja</mat-option>
            <mat-option [value]="false">Nein</mat-option>
          </mat-select>

          <!-- Input for date -->
          <input *ngIf="column.type === SqlDataType.DATE"
                 matInput
                 [formControlName]="column.name"
                 type="date"
                 [required]="!column.nullable">

          <!-- Input for timestamp -->
          <input *ngIf="column.type === SqlDataType.TIMESTAMP"
                 matInput
                 [formControlName]="column.name"
                 type="datetime-local"
                 [required]="!column.nullable">

          <mat-error *ngIf="dataForm.get(column.name)?.invalid">
            {{ getErrorMessage(column.name) }}
          </mat-error>
        </mat-form-field>
      </ng-container>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button type="button" (click)="onCancel()">Abbrechen</button>
    <button mat-raised-button color="primary" type="submit" [disabled]="dataForm.invalid">
      Erstellen
    </button>
  </mat-dialog-actions>
</form>
